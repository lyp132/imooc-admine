{
    "sourceFile": "src/test.vue",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1695003240238,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1695003265922,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,105 @@\n+<template>\r\n+  <div :class=\"{ show: isShow }\" class=\"header-search\">\r\n+    <svg-icon\r\n+      class-name=\"search-icon\"\r\n+      icon=\"search\"\r\n+      @click.stop=\"onShowClick\"\r\n+    />\r\n+    <el-select\r\n+      ref=\"headerSearchSelectRef\"\r\n+      class=\"header-search-select\"\r\n+      v-model=\"search\"\r\n+      filterable\r\n+      default-first-option\r\n+      remote\r\n+      placeholder=\"Search\"\r\n+      :remote-method=\"querySearch\"\r\n+      @change=\"onSelectChange\"\r\n+    >\r\n+      <el-option\r\n+        v-for=\"option in 5\"\r\n+        :key=\"option\"\r\n+        :label=\"option\"\r\n+        :value=\"option\"\r\n+      ></el-option>\r\n+    </el-select>\r\n+  </div>\r\n+</template>\r\n+\r\n+<script setup>import path from 'path'\r\n+import i18n from '@/i18n'\r\n+/**\r\n+ * 筛选出可供搜索的路由对象\r\n+ * @param routes 路由表\r\n+ * @param basePath 基础路径，默认为 /\r\n+ * @param prefixTitle\r\n+ */\r\n+export const generateRoutes = (routes, basePath = '/', prefixTitle = []) => {\r\n+  // 创建 result 数据\r\n+  let res = []\r\n+  // 循环 routes 路由\r\n+  for (const route of routes) {\r\n+    // 创建包含 path 和 title 的 item\r\n+    const data = {\r\n+      path: path.resolve(basePath, route.path),\r\n+      title: [...prefixTitle]\r\n+    }\r\n+    // 当前存在 meta 时，使用 i18n 解析国际化数据，组合成新的 title 内容\r\n+    // 动态路由不允许被搜索\r\n+    // 匹配动态路由的正则\r\n+    const re = /.*\\/:.*/\r\n+    if (route.meta && route.meta.title && !re.exec(route.path)) {\r\n+      const i18ntitle = i18n.global.t(`msg.route.${route.meta.title}`)\r\n+      data.title = [...data.title, i18ntitle]\r\n+      res.push(data)\r\n+    }\r\n+\r\n+    // 存在 children 时，迭代调用\r\n+    if (route.children) {\r\n+      const tempRoutes = generateRoutes(route.children, data.path, data.title)\r\n+      if (tempRoutes.length >= 1) {\r\n+        res = [...res, ...tempRoutes]\r\n+      }\r\n+    }\r\n+  }\r\n+  return res\r\n+}\r\n+\r\n+</script>\r\n+\r\n+<style lang=\"scss\" scoped>\r\n+.header-search {\r\n+  font-size: 0 !important;\r\n+  :deep(.search-icon) {\r\n+    cursor: pointer;\r\n+    font-size: 18px;\r\n+    vertical-align: middle;\r\n+  }\r\n+  .header-search-select {\r\n+    font-size: 18px;\r\n+    transition: width 0.2s;\r\n+    width: 0;\r\n+    overflow: hidden;\r\n+    background: transparent;\r\n+    border-radius: 0;\r\n+    display: inline-block;\r\n+    vertical-align: middle;\r\n+\r\n+    :v-deep(.el-input__inner) {\r\n+      border-radius: 0;\r\n+      border: 0;\r\n+      padding-left: 0;\r\n+      padding-right: 0;\r\n+      box-shadow: none !important;\r\n+      border-bottom: 1px solid #d9d9d9;\r\n+      vertical-align: middle;\r\n+    }\r\n+  }\r\n+  &.show {\r\n+    .header-search-select {\r\n+      width: 210px;\r\n+      margin-left: 10px;\r\n+    }\r\n+  }\r\n+}\r\n+</style>\r\n"
                },
                {
                    "date": 1695003281693,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,105 +0,0 @@\n-<template>\r\n-  <div :class=\"{ show: isShow }\" class=\"header-search\">\r\n-    <svg-icon\r\n-      class-name=\"search-icon\"\r\n-      icon=\"search\"\r\n-      @click.stop=\"onShowClick\"\r\n-    />\r\n-    <el-select\r\n-      ref=\"headerSearchSelectRef\"\r\n-      class=\"header-search-select\"\r\n-      v-model=\"search\"\r\n-      filterable\r\n-      default-first-option\r\n-      remote\r\n-      placeholder=\"Search\"\r\n-      :remote-method=\"querySearch\"\r\n-      @change=\"onSelectChange\"\r\n-    >\r\n-      <el-option\r\n-        v-for=\"option in 5\"\r\n-        :key=\"option\"\r\n-        :label=\"option\"\r\n-        :value=\"option\"\r\n-      ></el-option>\r\n-    </el-select>\r\n-  </div>\r\n-</template>\r\n-\r\n-<script setup>\r\n-import i18n from '@/i18n'\r\n-import path from 'path'\r\n-/**\r\n- * 筛选出可供搜索的路由对象\r\n- * @param routes 路由表\r\n- * @param basePath 基础路径，默认为 /\r\n- * @param prefixTitle\r\n- */\r\n-export const generateRoutes = (routes, basePath = '/', prefixTitle = []) => {\r\n-  // 创建 result 数据\r\n-  let res = []\r\n-  // 循环 routes 路由\r\n-  for (const route of routes) {\r\n-    // 创建包含 path 和 title 的 item\r\n-    const data = {\r\n-      path: path.resolve(basePath, route.path),\r\n-      title: [...prefixTitle]\r\n-    }\r\n-    // 当前存在 meta 时，使用 i18n 解析国际化数据，组合成新的 title 内容\r\n-    // 动态路由不允许被搜索\r\n-    // 匹配动态路由的正则\r\n-    const re = /.*\\/:.*/\r\n-    if (route.meta && route.meta.title && !re.exec(route.path)) {\r\n-      const i18ntitle = i18n.global.t(`msg.route.${route.meta.title}`)\r\n-      data.title = [...data.title, i18ntitle]\r\n-      res.push(data)\r\n-    }\r\n-\r\n-    // 存在 children 时，迭代调用\r\n-    if (route.children) {\r\n-      const tempRoutes = generateRoutes(route.children, data.path, data.title)\r\n-      if (tempRoutes.length >= 1) {\r\n-        res = [...res, ...tempRoutes]\r\n-      }\r\n-    }\r\n-  }\r\n-  return res\r\n-}\r\n-</script>\r\n-\r\n-<style lang=\"scss\" scoped>\r\n-.header-search {\r\n-  font-size: 0 !important;\r\n-  :deep(.search-icon) {\r\n-    cursor: pointer;\r\n-    font-size: 18px;\r\n-    vertical-align: middle;\r\n-  }\r\n-  .header-search-select {\r\n-    font-size: 18px;\r\n-    transition: width 0.2s;\r\n-    width: 0;\r\n-    overflow: hidden;\r\n-    background: transparent;\r\n-    border-radius: 0;\r\n-    display: inline-block;\r\n-    vertical-align: middle;\r\n-\r\n-    :v-deep(.el-input__inner) {\r\n-      border-radius: 0;\r\n-      border: 0;\r\n-      padding-left: 0;\r\n-      padding-right: 0;\r\n-      box-shadow: none !important;\r\n-      border-bottom: 1px solid #d9d9d9;\r\n-      vertical-align: middle;\r\n-    }\r\n-  }\r\n-  &.show {\r\n-    .header-search-select {\r\n-      width: 210px;\r\n-      margin-left: 10px;\r\n-    }\r\n-  }\r\n-}\r\n-</style>\r\n\\ No newline at end of file\n"
                },
                {
                    "date": 1695730796245,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -37,7 +37,29 @@\n   menuStyle.top = y + 'px'\r\n   selectIndex.value = index\r\n   visible.value = true\r\n }\r\n+/**\r\n+     * 删除 tag\r\n+     * @param {type: 'other'||'right'||'index', index: index} payload\r\n+     */\r\n+     removeTagsView(state, payload) {\r\n+      if (payload.type === 'index') {\r\n+        state.tagsViewList.splice(payload.index, 1)\r\n+        return\r\n+      } else if (payload.type === 'other') {\r\n+        state.tagsViewList.splice(\r\n+          payload.index + 1,\r\n+          state.tagsViewList.length - payload.index + 1\r\n+        )\r\n+        state.tagsViewList.splice(0, payload.index)\r\n+      } else if (payload.type === 'right') {\r\n+        state.tagsViewList.splice(\r\n+          payload.index + 1,\r\n+          state.tagsViewList.length - payload.index + 1\r\n+        )\r\n+      }\r\n+      setItem(TAGS_VIEW, state.tagsViewList)\r\n+    },\r\n \r\n \r\n </script>\n\\ No newline at end of file\n"
                }
            ],
            "date": 1695003240238,
            "name": "Commit-0",
            "content": ""
        }
    ]
}