{
    "sourceFile": "src/views/user-manage/index.vue",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 75,
            "patches": [
                {
                    "date": 1697021464745,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1697021543243,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,13 @@\n <template>\r\n   <div class=\"user-manage-container\">\r\n-    <el-card class=\"header\"></el-card>\r\n+    <!-- excel 导入与导出 -->\r\n+    <el-card class=\"header\">\r\n+      <div>\r\n+        <el-button>{{ $t('msg.excel.') }}</el-button>\r\n+      </div>\r\n+    </el-card>\r\n+    <!-- 员工详情 -->\r\n     <el-card></el-card>\r\n   </div>\r\n </template>\r\n \r\n"
                },
                {
                    "date": 1697021629229,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,9 +2,10 @@\n   <div class=\"user-manage-container\">\r\n     <!-- excel 导入与导出 -->\r\n     <el-card class=\"header\">\r\n       <div>\r\n-        <el-button>{{ $t('msg.excel.') }}</el-button>\r\n+        <el-button type=\"primary\">{{ $t('msg.excel.importExcel') }}</el-button>\r\n+        <el-button type=\"success\">{{ $t('msg.excel.exportExcel') }}</el-button>\r\n       </div>\r\n     </el-card>\r\n     <!-- 员工详情 -->\r\n     <el-card></el-card>\r\n"
                },
                {
                    "date": 1697021858352,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,23 @@\n+<template>\r\n+  <div class=\"user-manage-container\">\r\n+    <!-- excel 导入与导出 -->\r\n+    <el-card class=\"header\">\r\n+      <div>\r\n+        <el-button type=\"primary\">{{ $t('msg.excel.importExcel') }}</el-button>\r\n+        <el-button type=\"success\">{{ $t('msg.excel.exportExcel') }}</el-button>\r\n+      </div>\r\n+    </el-card>\r\n+    <!-- 员工详情 -->\r\n+    <el-card>\r\n+      <el-table>\r\n+        <el-table-column></el-table-column>\r\n+      </el-table>\r\n+    </el-card>\r\n+  </div>\r\n+</template>\r\n+\r\n+<script setup>\r\n+import {} from 'vue'\r\n+</script>\r\n+\r\n+<style lang=\"scss\" scoped></style>\r\n"
                },
                {
                    "date": 1697022054379,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,10 +8,23 @@\n       </div>\r\n     </el-card>\r\n     <!-- 员工详情 -->\r\n     <el-card>\r\n-      <el-table>\r\n+      <el-table :data=\"tableData\" border style=\"width: 100%\">\r\n+        <!-- # -->\r\n         <el-table-column></el-table-column>\r\n+        <!-- 姓名 -->\r\n+        <el-table-column></el-table-column>\r\n+        <!-- 联系方式 -->\r\n+        <el-table-column></el-table-column>\r\n+        <!-- 头像 -->\r\n+        <el-table-column></el-table-column>\r\n+        <!-- 角色 -->\r\n+        <el-table-column></el-table-column>\r\n+        <!-- 开通时间 -->\r\n+        <el-table-column></el-table-column>\r\n+        <!-- 操作 -->\r\n+        <el-table-column></el-table-column>\r\n       </el-table>\r\n     </el-card>\r\n   </div>\r\n </template>\r\n@@ -20,23 +33,4 @@\n import {} from 'vue'\r\n </script>\r\n \r\n <style lang=\"scss\" scoped></style>\r\n-<template>\r\n-  <div class=\"user-manage-container\">\r\n-    <!-- excel 导入与导出 -->\r\n-    <el-card class=\"header\">\r\n-      <div>\r\n-        <el-button type=\"primary\">{{ $t('msg.excel.importExcel') }}</el-button>\r\n-        <el-button type=\"success\">{{ $t('msg.excel.exportExcel') }}</el-button>\r\n-      </div>\r\n-    </el-card>\r\n-    <!-- 员工详情 -->\r\n-    <el-card></el-card>\r\n-  </div>\r\n-</template>\r\n-\r\n-<script setup>\r\n-import {} from 'vue'\r\n-</script>\r\n-\r\n-<style lang=\"scss\" scoped></style>\r\n"
                },
                {
                    "date": 1697022072959,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,38 @@\n+<template>\r\n+  <div class=\"user-manage-container\">\r\n+    <!-- excel 导入与导出 -->\r\n+    <el-card class=\"header\">\r\n+      <div>\r\n+        <el-button type=\"primary\">{{ $t('msg.excel.importExcel') }}</el-button>\r\n+        <el-button type=\"success\">{{ $t('msg.excel.exportExcel') }}</el-button>\r\n+      </div>\r\n+    </el-card>\r\n+    <!-- 员工详情 -->\r\n+    <el-card>\r\n+      <el-table :data=\"tableData\" border style=\"width: 100%\">\r\n+        <!-- # -->\r\n+        <el-table-column></el-table-column>\r\n+        <!-- 姓名 -->\r\n+        <el-table-column></el-table-column>\r\n+        <!-- 联系方式 -->\r\n+        <el-table-column></el-table-column>\r\n+        <!-- 头像 -->\r\n+        <el-table-column></el-table-column>\r\n+        <!-- 角色 -->\r\n+        <el-table-column></el-table-column>\r\n+        <!-- 开通时间 -->\r\n+        <el-table-column></el-table-column>\r\n+        <!-- 操作 -->\r\n+        <el-table-column></el-table-column>\r\n+      </el-table>\r\n+    </el-card>\r\n+  </div>\r\n+</template>\r\n+\r\n+<script setup>\r\n+import { ref } from 'vue'\r\n+\r\n+const tableData = ref([])\r\n+</script>\r\n+\r\n+<style lang=\"scss\" scoped></style>\r\n"
                },
                {
                    "date": 1697022279332,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,46 +29,25 @@\n   </div>\r\n </template>\r\n \r\n <script setup>\r\n+import { getUserManageList } from '@/api/user-manage'\r\n import { ref } from 'vue'\r\n \r\n+// 数据相关\r\n const tableData = ref([])\r\n-</script>\r\n+// const total = ref(0)\r\n+const page = ref(1)\r\n+const size = ref(2)\r\n \r\n-<style lang=\"scss\" scoped></style>\r\n-<template>\r\n-  <div class=\"user-manage-container\">\r\n-    <!-- excel 导入与导出 -->\r\n-    <el-card class=\"header\">\r\n-      <div>\r\n-        <el-button type=\"primary\">{{ $t('msg.excel.importExcel') }}</el-button>\r\n-        <el-button type=\"success\">{{ $t('msg.excel.exportExcel') }}</el-button>\r\n-      </div>\r\n-    </el-card>\r\n-    <!-- 员工详情 -->\r\n-    <el-card>\r\n-      <el-table :data=\"tableData\" border style=\"width: 100%\">\r\n-        <!-- # -->\r\n-        <el-table-column></el-table-column>\r\n-        <!-- 姓名 -->\r\n-        <el-table-column></el-table-column>\r\n-        <!-- 联系方式 -->\r\n-        <el-table-column></el-table-column>\r\n-        <!-- 头像 -->\r\n-        <el-table-column></el-table-column>\r\n-        <!-- 角色 -->\r\n-        <el-table-column></el-table-column>\r\n-        <!-- 开通时间 -->\r\n-        <el-table-column></el-table-column>\r\n-        <!-- 操作 -->\r\n-        <el-table-column></el-table-column>\r\n-      </el-table>\r\n-    </el-card>\r\n-  </div>\r\n-</template>\r\n-\r\n-<script setup>\r\n-import {} from 'vue'\r\n+// 获取数据\r\n+const getListData = async () => {\r\n+  const result = await getUserManageList({\r\n+    page: page.value,\r\n+    size: size.value\r\n+  })\r\n+  console.log(result)\r\n+}\r\n+getListData()\r\n </script>\r\n \r\n <style lang=\"scss\" scoped></style>\r\n"
                },
                {
                    "date": 1697022428918,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,9 +34,9 @@\n import { ref } from 'vue'\r\n \r\n // 数据相关\r\n const tableData = ref([])\r\n-// const total = ref(0)\r\n+const total = ref(0)\r\n const page = ref(1)\r\n const size = ref(2)\r\n \r\n // 获取数据\r\n@@ -44,9 +44,11 @@\n   const result = await getUserManageList({\r\n     page: page.value,\r\n     size: size.value\r\n   })\r\n-  console.log(result)\r\n+  // console.log(result)\r\n+  total.value = result.total\r\n+  tableData.value = result.list\r\n }\r\n getListData()\r\n </script>\r\n \r\n"
                },
                {
                    "date": 1697022472774,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,8 +30,9 @@\n </template>\r\n \r\n <script setup>\r\n import { getUserManageList } from '@/api/user-manage'\r\n+import { watchSwitchLang } from '@/utils/i18n'\r\n import { ref } from 'vue'\r\n \r\n // 数据相关\r\n const tableData = ref([])\r\n@@ -49,7 +50,9 @@\n   total.value = result.total\r\n   tableData.value = result.list\r\n }\r\n getListData()\r\n+// 监听语言切换\r\n+watchSwitchLang(getListData)\r\n </script>\r\n \r\n <style lang=\"scss\" scoped></style>\r\n"
                },
                {
                    "date": 1697022511648,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -47,8 +47,9 @@\n     size: size.value\r\n   })\r\n   // console.log(result)\r\n   total.value = result.total\r\n+  // 员工列表数据\r\n   tableData.value = result.list\r\n }\r\n getListData()\r\n // 监听语言切换\r\n"
                },
                {
                    "date": 1697022556318,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,9 +10,9 @@\n     <!-- 员工详情 -->\r\n     <el-card>\r\n       <el-table :data=\"tableData\" border style=\"width: 100%\">\r\n         <!-- # -->\r\n-        <el-table-column></el-table-column>\r\n+        <el-table-column label=\"#\" type=\"index\"></el-table-column>\r\n         <!-- 姓名 -->\r\n         <el-table-column></el-table-column>\r\n         <!-- 联系方式 -->\r\n         <el-table-column></el-table-column>\r\n"
                },
                {
                    "date": 1697022667304,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,9 +12,9 @@\n       <el-table :data=\"tableData\" border style=\"width: 100%\">\r\n         <!-- # -->\r\n         <el-table-column label=\"#\" type=\"index\"></el-table-column>\r\n         <!-- 姓名 -->\r\n-        <el-table-column></el-table-column>\r\n+        <el-table-column p></el-table-column>\r\n         <!-- 联系方式 -->\r\n         <el-table-column></el-table-column>\r\n         <!-- 头像 -->\r\n         <el-table-column></el-table-column>\r\n"
                },
                {
                    "date": 1697022734744,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,9 +12,9 @@\n       <el-table :data=\"tableData\" border style=\"width: 100%\">\r\n         <!-- # -->\r\n         <el-table-column label=\"#\" type=\"index\"></el-table-column>\r\n         <!-- 姓名 -->\r\n-        <el-table-column p></el-table-column>\r\n+        <el-table-column prop=\"username\" :label=\"$t('msg.excel.name')\"></el-table-column>\r\n         <!-- 联系方式 -->\r\n         <el-table-column></el-table-column>\r\n         <!-- 头像 -->\r\n         <el-table-column></el-table-column>\r\n"
                },
                {
                    "date": 1697022827792,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,13 +12,19 @@\n       <el-table :data=\"tableData\" border style=\"width: 100%\">\r\n         <!-- # -->\r\n         <el-table-column label=\"#\" type=\"index\"></el-table-column>\r\n         <!-- 姓名 -->\r\n-        <el-table-column prop=\"username\" :label=\"$t('msg.excel.name')\"></el-table-column>\r\n+        <el-table-column\r\n+          prop=\"username\"\r\n+          :label=\"$t('msg.excel.name')\"\r\n+        ></el-table-column>\r\n         <!-- 联系方式 -->\r\n-        <el-table-column></el-table-column>\r\n+        <el-table-column\r\n+          prop=\"mobile\"\r\n+          :label=\"$t('msg.excel.mobile')\"\r\n+        ></el-table-column>\r\n         <!-- 头像 -->\r\n-        <el-table-column></el-table-column>\r\n+        <el-table-column prop=\"\"></el-table-column>\r\n         <!-- 角色 -->\r\n         <el-table-column></el-table-column>\r\n         <!-- 开通时间 -->\r\n         <el-table-column></el-table-column>\r\n"
                },
                {
                    "date": 1697050772416,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,13 @@\n           prop=\"mobile\"\r\n           :label=\"$t('msg.excel.mobile')\"\r\n         ></el-table-column>\r\n         <!-- 头像 -->\r\n-        <el-table-column prop=\"\"></el-table-column>\r\n+        <el-table-column :label=\"$t('msg.excel.avatar')\" align=\"center\">\r\n+          <template v-slot=\"{ row }\">\r\n+            <el-image></el-image>\r\n+          </template>\r\n+        </el-table-column>\r\n         <!-- 角色 -->\r\n         <el-table-column></el-table-column>\r\n         <!-- 开通时间 -->\r\n         <el-table-column></el-table-column>\r\n"
                },
                {
                    "date": 1697050891860,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,9 +24,13 @@\n         ></el-table-column>\r\n         <!-- 头像 -->\r\n         <el-table-column :label=\"$t('msg.excel.avatar')\" align=\"center\">\r\n           <template v-slot=\"{ row }\">\r\n-            <el-image></el-image>\r\n+            <el-image\r\n+              class=\"avatar\"\r\n+              :src=\"row.avatar\"\r\n+              :preview-src-list=\"[row.avatar]\"\r\n+            ></el-image>\r\n           </template>\r\n         </el-table-column>\r\n         <!-- 角色 -->\r\n         <el-table-column></el-table-column>\r\n"
                },
                {
                    "date": 1697051004590,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,9 +32,11 @@\n             ></el-image>\r\n           </template>\r\n         </el-table-column>\r\n         <!-- 角色 -->\r\n-        <el-table-column></el-table-column>\r\n+        <el-table-column :label=\"$t('msg.excel.role')\">\r\n+          <template #default=\"{ row }\"> </template>\r\n+        </el-table-column>\r\n         <!-- 开通时间 -->\r\n         <el-table-column></el-table-column>\r\n         <!-- 操作 -->\r\n         <el-table-column></el-table-column>\r\n"
                },
                {
                    "date": 1697051097798,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,9 +33,13 @@\n           </template>\r\n         </el-table-column>\r\n         <!-- 角色 -->\r\n         <el-table-column :label=\"$t('msg.excel.role')\">\r\n-          <template #default=\"{ row }\"> </template>\r\n+          <template #default=\"{ row }\">\r\n+            <div v-if=\"row.role && row.role.length > 0\">\r\n+              <el-tag></el-tag>\r\n+            </div>\r\n+          </template>\r\n         </el-table-column>\r\n         <!-- 开通时间 -->\r\n         <el-table-column></el-table-column>\r\n         <!-- 操作 -->\r\n"
                },
                {
                    "date": 1697051184566,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,9 +35,13 @@\n         <!-- 角色 -->\r\n         <el-table-column :label=\"$t('msg.excel.role')\">\r\n           <template #default=\"{ row }\">\r\n             <div v-if=\"row.role && row.role.length > 0\">\r\n-              <el-tag></el-tag>\r\n+              <el-tag\r\n+                v-for=\"item in row.role\"\r\n+                :key=\"item.id\"\r\n+                size=\"mini\"\r\n+              ></el-tag>\r\n             </div>\r\n           </template>\r\n         </el-table-column>\r\n         <!-- 开通时间 -->\r\n"
                },
                {
                    "date": 1697051243435,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,13 +35,11 @@\n         <!-- 角色 -->\r\n         <el-table-column :label=\"$t('msg.excel.role')\">\r\n           <template #default=\"{ row }\">\r\n             <div v-if=\"row.role && row.role.length > 0\">\r\n-              <el-tag\r\n-                v-for=\"item in row.role\"\r\n-                :key=\"item.id\"\r\n-                size=\"mini\"\r\n-              ></el-tag>\r\n+              <el-tag v-for=\"item in row.role\" :key=\"item.id\" size=\"small\">{{\r\n+                item.title\r\n+              }}</el-tag>\r\n             </div>\r\n           </template>\r\n         </el-table-column>\r\n         <!-- 开通时间 -->\r\n"
                },
                {
                    "date": 1697051367225,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -42,11 +42,16 @@\n             </div>\r\n           </template>\r\n         </el-table-column>\r\n         <!-- 开通时间 -->\r\n-        <el-table-column></el-table-column>\r\n+        <el-table-column\r\n+          prop=\"openTime\"\r\n+          :label=\"$t('msg.excel.openTime')\"\r\n+        ></el-table-column>\r\n         <!-- 操作 -->\r\n-        <el-table-column></el-table-column>\r\n+        <el-table-column :label=\"$t('msg.excel.action')\">\r\n+          <template> </template>\r\n+        </el-table-column>\r\n       </el-table>\r\n     </el-card>\r\n   </div>\r\n </template>\r\n"
                },
                {
                    "date": 1697051450806,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,9 +48,13 @@\n           :label=\"$t('msg.excel.openTime')\"\r\n         ></el-table-column>\r\n         <!-- 操作 -->\r\n         <el-table-column :label=\"$t('msg.excel.action')\">\r\n-          <template> </template>\r\n+          <template #default>\r\n+            <el-button type=\"primary\" size=\"mini\"></el-button>\r\n+            <el-button type=\"primary\" size=\"mini\"></el-button>\r\n+            <el-button type=\"primary\" size=\"mini\"></el-button>\r\n+          </template>\r\n         </el-table-column>\r\n       </el-table>\r\n     </el-card>\r\n   </div>\r\n"
                },
                {
                    "date": 1697051506501,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -49,11 +49,11 @@\n         ></el-table-column>\r\n         <!-- 操作 -->\r\n         <el-table-column :label=\"$t('msg.excel.action')\">\r\n           <template #default>\r\n-            <el-button type=\"primary\" size=\"mini\"></el-button>\r\n-            <el-button type=\"primary\" size=\"mini\"></el-button>\r\n-            <el-button type=\"primary\" size=\"mini\"></el-button>\r\n+            <el-button type=\"primary\" size=\"small\"></el-button>\r\n+            <el-button type=\"info\" size=\"small\"></el-button>\r\n+            <el-button type=\"danger\" size=\"small\"></el-button>\r\n           </template>\r\n         </el-table-column>\r\n       </el-table>\r\n     </el-card>\r\n"
                },
                {
                    "date": 1697051574028,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -49,11 +49,17 @@\n         ></el-table-column>\r\n         <!-- 操作 -->\r\n         <el-table-column :label=\"$t('msg.excel.action')\">\r\n           <template #default>\r\n-            <el-button type=\"primary\" size=\"small\"></el-button>\r\n-            <el-button type=\"info\" size=\"small\"></el-button>\r\n-            <el-button type=\"danger\" size=\"small\"></el-button>\r\n+            <el-button type=\"primary\" size=\"small\">{{\r\n+              $t('msg.excel.show')\r\n+            }}</el-button>\r\n+            <el-button type=\"info\" size=\"small\">{{\r\n+              $t('msg.excel.showRole')\r\n+            }}</el-button>\r\n+            <el-button type=\"danger\" size=\"small\">{{\r\n+              $t('msg.excel.remove')\r\n+            }}</el-button>\r\n           </template>\r\n         </el-table-column>\r\n       </el-table>\r\n     </el-card>\r\n"
                },
                {
                    "date": 1697051670110,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,5 +92,26 @@\n // 监听语言切换\r\n watchSwitchLang(getListData)\r\n </script>\r\n \r\n-<style lang=\"scss\" scoped></style>\r\n+<style lang=\"scss\" scoped>\r\n+.user-manage-container {\r\n+  .header {\r\n+    margin-bottom: 22px;\r\n+    text-align: right;\r\n+  }\r\n+  ::v-deep .avatar {\r\n+    width: 60px;\r\n+    height: 60px;\r\n+    border-radius: 50%;\r\n+  }\r\n+\r\n+  ::v-deep .el-tag {\r\n+    margin-right: 6px;\r\n+  }\r\n+\r\n+  .pagination {\r\n+    margin-top: 20px;\r\n+    text-align: center;\r\n+  }\r\n+}\r\n+</style>\r\n"
                },
                {
                    "date": 1697051742901,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,13 +24,9 @@\n         ></el-table-column>\r\n         <!-- 头像 -->\r\n         <el-table-column :label=\"$t('msg.excel.avatar')\" align=\"center\">\r\n           <template v-slot=\"{ row }\">\r\n-            <el-image\r\n-              class=\"avatar\"\r\n-              :src=\"row.avatar\"\r\n-              :preview-src-list=\"[row.avatar]\"\r\n-            ></el-image>\r\n+            <el-image class=\"avatar\" :src=\"row.avatar\"></el-image>\r\n           </template>\r\n         </el-table-column>\r\n         <!-- 角色 -->\r\n         <el-table-column :label=\"$t('msg.excel.role')\">\r\n"
                },
                {
                    "date": 1697051831237,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,9 +43,13 @@\n           prop=\"openTime\"\r\n           :label=\"$t('msg.excel.openTime')\"\r\n         ></el-table-column>\r\n         <!-- 操作 -->\r\n-        <el-table-column :label=\"$t('msg.excel.action')\">\r\n+        <el-table-column\r\n+          :label=\"$t('msg.excel.action')\"\r\n+          fixed=\"right\"\r\n+          width=\"260\"\r\n+        >\r\n           <template #default>\r\n             <el-button type=\"primary\" size=\"small\">{{\r\n               $t('msg.excel.show')\r\n             }}</el-button>\r\n"
                },
                {
                    "date": 1697051946570,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -45,9 +45,9 @@\n         ></el-table-column>\r\n         <!-- 操作 -->\r\n         <el-table-column\r\n           :label=\"$t('msg.excel.action')\"\r\n-          fixed=\"right\"\r\n+          fixed=\"left\"\r\n           width=\"260\"\r\n         >\r\n           <template #default>\r\n             <el-button type=\"primary\" size=\"small\">{{\r\n"
                },
                {
                    "date": 1697051961296,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -45,9 +45,9 @@\n         ></el-table-column>\r\n         <!-- 操作 -->\r\n         <el-table-column\r\n           :label=\"$t('msg.excel.action')\"\r\n-          fixed=\"left\"\r\n+          fixed=\"right\"\r\n           width=\"260\"\r\n         >\r\n           <template #default>\r\n             <el-button type=\"primary\" size=\"small\">{{\r\n"
                },
                {
                    "date": 1697052007033,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,117 @@\n+<template>\r\n+  <div class=\"user-manage-container\">\r\n+    <!-- excel 导入与导出 -->\r\n+    <el-card class=\"header\">\r\n+      <div>\r\n+        <el-button type=\"primary\">{{ $t('msg.excel.importExcel') }}</el-button>\r\n+        <el-button type=\"success\">{{ $t('msg.excel.exportExcel') }}</el-button>\r\n+      </div>\r\n+    </el-card>\r\n+    <!-- 员工详情 -->\r\n+    <el-card>\r\n+      <el-table :data=\"tableData\" border style=\"width: 100%\">\r\n+        <!-- # -->\r\n+        <el-table-column label=\"#\" type=\"index\"></el-table-column>\r\n+        <!-- 姓名 -->\r\n+        <el-table-column\r\n+          prop=\"username\"\r\n+          :label=\"$t('msg.excel.name')\"\r\n+        ></el-table-column>\r\n+        <!-- 联系方式 -->\r\n+        <el-table-column\r\n+          prop=\"mobile\"\r\n+          :label=\"$t('msg.excel.mobile')\"\r\n+        ></el-table-column>\r\n+        <!-- 头像 -->\r\n+        <el-table-column :label=\"$t('msg.excel.avatar')\" align=\"center\">\r\n+          <template v-slot=\"{ row }\">\r\n+            <el-image class=\"avatar\" :src=\"row.avatar\"></el-image>\r\n+          </template>\r\n+        </el-table-column>\r\n+        <!-- 角色 -->\r\n+        <el-table-column :label=\"$t('msg.excel.role')\">\r\n+          <template #default=\"{ row }\">\r\n+            <div v-if=\"row.role && row.role.length > 0\">\r\n+              <el-tag v-for=\"item in row.role\" :key=\"item.id\" size=\"small\">{{\r\n+                item.title\r\n+              }}</el-tag>\r\n+            </div>\r\n+          </template>\r\n+        </el-table-column>\r\n+        <!-- 开通时间 -->\r\n+        <el-table-column\r\n+          prop=\"openTime\"\r\n+          :label=\"$t('msg.excel.openTime')\"\r\n+        ></el-table-column>\r\n+        <!-- 操作 -->\r\n+        <el-table-column\r\n+          :label=\"$t('msg.excel.action')\"\r\n+          fixed=\"right\"\r\n+          width=\"260\"\r\n+        >\r\n+          <template #default>\r\n+            <el-button type=\"primary\" size=\"small\">{{\r\n+              $t('msg.excel.show')\r\n+            }}</el-button>\r\n+            <el-button type=\"info\" size=\"small\">{{\r\n+              $t('msg.excel.showRole')\r\n+            }}</el-button>\r\n+            <el-button type=\"danger\" size=\"small\">{{\r\n+              $t('msg.excel.remove')\r\n+            }}</el-button>\r\n+          </template>\r\n+        </el-table-column>\r\n+      </el-table>\r\n+    </el-card>\r\n+  </div>\r\n+</template>\r\n+\r\n+<script setup>\r\n+import { getUserManageList } from '@/api/user-manage'\r\n+import { watchSwitchLang } from '@/utils/i18n'\r\n+import { ref } from 'vue'\r\n+\r\n+// 数据相关\r\n+const tableData = ref([])\r\n+const total = ref(0)\r\n+const page = ref(1)\r\n+const size = ref(2)\r\n+\r\n+// 获取数据\r\n+const getListData = async () => {\r\n+  const result = await getUserManageList({\r\n+    page: page.value,\r\n+    size: size.value\r\n+  })\r\n+  // console.log(result)\r\n+  total.value = result.total\r\n+  // 员工列表数据\r\n+  tableData.value = result.list\r\n+}\r\n+getListData()\r\n+// 监听语言切换\r\n+watchSwitchLang(getListData)\r\n+</script>\r\n+\r\n+<style lang=\"scss\" scoped>\r\n+.user-manage-container {\r\n+  .header {\r\n+    margin-bottom: 22px;\r\n+    text-align: right;\r\n+  }\r\n+  ::v-deep .avatar {\r\n+    width: 60px;\r\n+    height: 60px;\r\n+    border-radius: 50%;\r\n+  }\r\n+\r\n+  ::v-deep .el-tag {\r\n+    margin-right: 6px;\r\n+  }\r\n+\r\n+  .pagination {\r\n+    margin-top: 20px;\r\n+    text-align: center;\r\n+  }\r\n+}\r\n+</style>\r\n"
                },
                {
                    "date": 1697052027535,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -61,8 +61,9 @@\n             }}</el-button>\r\n           </template>\r\n         </el-table-column>\r\n       </el-table>\r\n+      <el-pagination></el-pagination>\r\n     </el-card>\r\n   </div>\r\n </template>\r\n \r\n@@ -114,121 +115,4 @@\n     text-align: center;\r\n   }\r\n }\r\n </style>\r\n-<template>\r\n-  <div class=\"user-manage-container\">\r\n-    <!-- excel 导入与导出 -->\r\n-    <el-card class=\"header\">\r\n-      <div>\r\n-        <el-button type=\"primary\">{{ $t('msg.excel.importExcel') }}</el-button>\r\n-        <el-button type=\"success\">{{ $t('msg.excel.exportExcel') }}</el-button>\r\n-      </div>\r\n-    </el-card>\r\n-    <!-- 员工详情 -->\r\n-    <el-card>\r\n-      <el-table :data=\"tableData\" border style=\"width: 100%\">\r\n-        <!-- # -->\r\n-        <el-table-column label=\"#\" type=\"index\"></el-table-column>\r\n-        <!-- 姓名 -->\r\n-        <el-table-column\r\n-          prop=\"username\"\r\n-          :label=\"$t('msg.excel.name')\"\r\n-        ></el-table-column>\r\n-        <!-- 联系方式 -->\r\n-        <el-table-column\r\n-          prop=\"mobile\"\r\n-          :label=\"$t('msg.excel.mobile')\"\r\n-        ></el-table-column>\r\n-        <!-- 头像 -->\r\n-        <el-table-column :label=\"$t('msg.excel.avatar')\" align=\"center\">\r\n-          <template v-slot=\"{ row }\">\r\n-            <el-image class=\"avatar\" :src=\"row.avatar\"></el-image>\r\n-          </template>\r\n-        </el-table-column>\r\n-        <!-- 角色 -->\r\n-        <el-table-column :label=\"$t('msg.excel.role')\">\r\n-          <template #default=\"{ row }\">\r\n-            <div v-if=\"row.role && row.role.length > 0\">\r\n-              <el-tag v-for=\"item in row.role\" :key=\"item.id\" size=\"small\">{{\r\n-                item.title\r\n-              }}</el-tag>\r\n-            </div>\r\n-          </template>\r\n-        </el-table-column>\r\n-        <!-- 开通时间 -->\r\n-        <el-table-column\r\n-          prop=\"openTime\"\r\n-          :label=\"$t('msg.excel.openTime')\"\r\n-        ></el-table-column>\r\n-        <!-- 操作 -->\r\n-        <el-table-column\r\n-          :label=\"$t('msg.excel.action')\"\r\n-          fixed=\"right\"\r\n-          width=\"260\"\r\n-        >\r\n-          <template #default>\r\n-            <el-button type=\"primary\" size=\"small\">{{\r\n-              $t('msg.excel.show')\r\n-            }}</el-button>\r\n-            <el-button type=\"info\" size=\"small\">{{\r\n-              $t('msg.excel.showRole')\r\n-            }}</el-button>\r\n-            <el-button type=\"danger\" size=\"small\">{{\r\n-              $t('msg.excel.remove')\r\n-            }}</el-button>\r\n-          </template>\r\n-        </el-table-column>\r\n-      </el-table>\r\n-    </el-card>\r\n-  </div>\r\n-</template>\r\n-\r\n-<script setup>\r\n-import { getUserManageList } from '@/api/user-manage'\r\n-import { watchSwitchLang } from '@/utils/i18n'\r\n-import { ref } from 'vue'\r\n-\r\n-// 数据相关\r\n-const tableData = ref([])\r\n-const total = ref(0)\r\n-const page = ref(1)\r\n-const size = ref(2)\r\n-\r\n-// 获取数据\r\n-const getListData = async () => {\r\n-  const result = await getUserManageList({\r\n-    page: page.value,\r\n-    size: size.value\r\n-  })\r\n-  // console.log(result)\r\n-  total.value = result.total\r\n-  // 员工列表数据\r\n-  tableData.value = result.list\r\n-}\r\n-getListData()\r\n-// 监听语言切换\r\n-watchSwitchLang(getListData)\r\n-</script>\r\n-\r\n-<style lang=\"scss\" scoped>\r\n-.user-manage-container {\r\n-  .header {\r\n-    margin-bottom: 22px;\r\n-    text-align: right;\r\n-  }\r\n-  ::v-deep .avatar {\r\n-    width: 60px;\r\n-    height: 60px;\r\n-    border-radius: 50%;\r\n-  }\r\n-\r\n-  ::v-deep .el-tag {\r\n-    margin-right: 6px;\r\n-  }\r\n-\r\n-  .pagination {\r\n-    margin-top: 20px;\r\n-    text-align: center;\r\n-  }\r\n-}\r\n-</style>\r\n"
                },
                {
                    "date": 1697052310984,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -61,9 +61,9 @@\n             }}</el-button>\r\n           </template>\r\n         </el-table-column>\r\n       </el-table>\r\n-      <el-pagination></el-pagination>\r\n+      <el-pagination :page-size=\"[2, 5, 10, 20]\"></el-pagination>\r\n     </el-card>\r\n   </div>\r\n </template>\r\n \r\n"
                },
                {
                    "date": 1697052525120,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,124 @@\n+<template>\r\n+  <div class=\"user-manage-container\">\r\n+    <!-- excel 导入与导出 -->\r\n+    <el-card class=\"header\">\r\n+      <div>\r\n+        <el-button type=\"primary\">{{ $t('msg.excel.importExcel') }}</el-button>\r\n+        <el-button type=\"success\">{{ $t('msg.excel.exportExcel') }}</el-button>\r\n+      </div>\r\n+    </el-card>\r\n+    <!-- 员工详情 -->\r\n+    <el-card>\r\n+      <el-table :data=\"tableData\" border style=\"width: 100%\">\r\n+        <!-- # -->\r\n+        <el-table-column label=\"#\" type=\"index\"></el-table-column>\r\n+        <!-- 姓名 -->\r\n+        <el-table-column\r\n+          prop=\"username\"\r\n+          :label=\"$t('msg.excel.name')\"\r\n+        ></el-table-column>\r\n+        <!-- 联系方式 -->\r\n+        <el-table-column\r\n+          prop=\"mobile\"\r\n+          :label=\"$t('msg.excel.mobile')\"\r\n+        ></el-table-column>\r\n+        <!-- 头像 -->\r\n+        <el-table-column :label=\"$t('msg.excel.avatar')\" align=\"center\">\r\n+          <template v-slot=\"{ row }\">\r\n+            <el-image class=\"avatar\" :src=\"row.avatar\"></el-image>\r\n+          </template>\r\n+        </el-table-column>\r\n+        <!-- 角色 -->\r\n+        <el-table-column :label=\"$t('msg.excel.role')\">\r\n+          <template #default=\"{ row }\">\r\n+            <div v-if=\"row.role && row.role.length > 0\">\r\n+              <el-tag v-for=\"item in row.role\" :key=\"item.id\" size=\"small\">{{\r\n+                item.title\r\n+              }}</el-tag>\r\n+            </div>\r\n+          </template>\r\n+        </el-table-column>\r\n+        <!-- 开通时间 -->\r\n+        <el-table-column\r\n+          prop=\"openTime\"\r\n+          :label=\"$t('msg.excel.openTime')\"\r\n+        ></el-table-column>\r\n+        <!-- 操作 -->\r\n+        <el-table-column\r\n+          :label=\"$t('msg.excel.action')\"\r\n+          fixed=\"right\"\r\n+          width=\"260\"\r\n+        >\r\n+          <template #default>\r\n+            <el-button type=\"primary\" size=\"small\">{{\r\n+              $t('msg.excel.show')\r\n+            }}</el-button>\r\n+            <el-button type=\"info\" size=\"small\">{{\r\n+              $t('msg.excel.showRole')\r\n+            }}</el-button>\r\n+            <el-button type=\"danger\" size=\"small\">{{\r\n+              $t('msg.excel.remove')\r\n+            }}</el-button>\r\n+          </template>\r\n+        </el-table-column>\r\n+      </el-table>\r\n+      <el-pagination\r\n+        :current-page=\"page\"\r\n+        :page-sizes=\"size\"\r\n+        :page-size=\"[2, 5, 10, 20]\"\r\n+        layout=\"total, sizes, prev, pager, next, jumper\"\r\n+        :total=\"total\"\r\n+      ></el-pagination>\r\n+    </el-card>\r\n+  </div>\r\n+</template>\r\n+\r\n+<script setup>\r\n+import { getUserManageList } from '@/api/user-manage'\r\n+import { watchSwitchLang } from '@/utils/i18n'\r\n+import { ref } from 'vue'\r\n+\r\n+// 数据相关\r\n+const tableData = ref([])\r\n+const total = ref(0)\r\n+const page = ref(1)\r\n+const size = ref(2)\r\n+\r\n+// 获取数据\r\n+const getListData = async () => {\r\n+  const result = await getUserManageList({\r\n+    page: page.value,\r\n+    size: size.value\r\n+  })\r\n+  // console.log(result)\r\n+  total.value = result.total\r\n+  // 员工列表数据\r\n+  tableData.value = result.list\r\n+}\r\n+getListData()\r\n+// 监听语言切换\r\n+watchSwitchLang(getListData)\r\n+</script>\r\n+\r\n+<style lang=\"scss\" scoped>\r\n+.user-manage-container {\r\n+  .header {\r\n+    margin-bottom: 22px;\r\n+    text-align: right;\r\n+  }\r\n+  ::v-deep .avatar {\r\n+    width: 60px;\r\n+    height: 60px;\r\n+    border-radius: 50%;\r\n+  }\r\n+\r\n+  ::v-deep .el-tag {\r\n+    margin-right: 6px;\r\n+  }\r\n+\r\n+  .pagination {\r\n+    margin-top: 20px;\r\n+    text-align: center;\r\n+  }\r\n+}\r\n+</style>\r\n"
                },
                {
                    "date": 1697052585945,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,8 +67,10 @@\n         :page-sizes=\"size\"\r\n         :page-size=\"[2, 5, 10, 20]\"\r\n         layout=\"total, sizes, prev, pager, next, jumper\"\r\n         :total=\"total\"\r\n+        @size-change=\"handleSizeChange\"\r\n+        @current-change=\"handleCurrentChange\"\r\n       ></el-pagination>\r\n     </el-card>\r\n   </div>\r\n </template>\r\n@@ -121,122 +123,4 @@\n     text-align: center;\r\n   }\r\n }\r\n </style>\r\n-<template>\r\n-  <div class=\"user-manage-container\">\r\n-    <!-- excel 导入与导出 -->\r\n-    <el-card class=\"header\">\r\n-      <div>\r\n-        <el-button type=\"primary\">{{ $t('msg.excel.importExcel') }}</el-button>\r\n-        <el-button type=\"success\">{{ $t('msg.excel.exportExcel') }}</el-button>\r\n-      </div>\r\n-    </el-card>\r\n-    <!-- 员工详情 -->\r\n-    <el-card>\r\n-      <el-table :data=\"tableData\" border style=\"width: 100%\">\r\n-        <!-- # -->\r\n-        <el-table-column label=\"#\" type=\"index\"></el-table-column>\r\n-        <!-- 姓名 -->\r\n-        <el-table-column\r\n-          prop=\"username\"\r\n-          :label=\"$t('msg.excel.name')\"\r\n-        ></el-table-column>\r\n-        <!-- 联系方式 -->\r\n-        <el-table-column\r\n-          prop=\"mobile\"\r\n-          :label=\"$t('msg.excel.mobile')\"\r\n-        ></el-table-column>\r\n-        <!-- 头像 -->\r\n-        <el-table-column :label=\"$t('msg.excel.avatar')\" align=\"center\">\r\n-          <template v-slot=\"{ row }\">\r\n-            <el-image class=\"avatar\" :src=\"row.avatar\"></el-image>\r\n-          </template>\r\n-        </el-table-column>\r\n-        <!-- 角色 -->\r\n-        <el-table-column :label=\"$t('msg.excel.role')\">\r\n-          <template #default=\"{ row }\">\r\n-            <div v-if=\"row.role && row.role.length > 0\">\r\n-              <el-tag v-for=\"item in row.role\" :key=\"item.id\" size=\"small\">{{\r\n-                item.title\r\n-              }}</el-tag>\r\n-            </div>\r\n-          </template>\r\n-        </el-table-column>\r\n-        <!-- 开通时间 -->\r\n-        <el-table-column\r\n-          prop=\"openTime\"\r\n-          :label=\"$t('msg.excel.openTime')\"\r\n-        ></el-table-column>\r\n-        <!-- 操作 -->\r\n-        <el-table-column\r\n-          :label=\"$t('msg.excel.action')\"\r\n-          fixed=\"right\"\r\n-          width=\"260\"\r\n-        >\r\n-          <template #default>\r\n-            <el-button type=\"primary\" size=\"small\">{{\r\n-              $t('msg.excel.show')\r\n-            }}</el-button>\r\n-            <el-button type=\"info\" size=\"small\">{{\r\n-              $t('msg.excel.showRole')\r\n-            }}</el-button>\r\n-            <el-button type=\"danger\" size=\"small\">{{\r\n-              $t('msg.excel.remove')\r\n-            }}</el-button>\r\n-          </template>\r\n-        </el-table-column>\r\n-      </el-table>\r\n-      <el-pagination :page-size=\"[2, 5, 10, 20]\"></el-pagination>\r\n-    </el-card>\r\n-  </div>\r\n-</template>\r\n-\r\n-<script setup>\r\n-import { getUserManageList } from '@/api/user-manage'\r\n-import { watchSwitchLang } from '@/utils/i18n'\r\n-import { ref } from 'vue'\r\n-\r\n-// 数据相关\r\n-const tableData = ref([])\r\n-const total = ref(0)\r\n-const page = ref(1)\r\n-const size = ref(2)\r\n-\r\n-// 获取数据\r\n-const getListData = async () => {\r\n-  const result = await getUserManageList({\r\n-    page: page.value,\r\n-    size: size.value\r\n-  })\r\n-  // console.log(result)\r\n-  total.value = result.total\r\n-  // 员工列表数据\r\n-  tableData.value = result.list\r\n-}\r\n-getListData()\r\n-// 监听语言切换\r\n-watchSwitchLang(getListData)\r\n-</script>\r\n-\r\n-<style lang=\"scss\" scoped>\r\n-.user-manage-container {\r\n-  .header {\r\n-    margin-bottom: 22px;\r\n-    text-align: right;\r\n-  }\r\n-  ::v-deep .avatar {\r\n-    width: 60px;\r\n-    height: 60px;\r\n-    border-radius: 50%;\r\n-  }\r\n-\r\n-  ::v-deep .el-tag {\r\n-    margin-right: 6px;\r\n-  }\r\n-\r\n-  .pagination {\r\n-    margin-top: 20px;\r\n-    text-align: center;\r\n-  }\r\n-}\r\n-</style>\r\n"
                },
                {
                    "date": 1697052775359,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -63,10 +63,10 @@\n         </el-table-column>\r\n       </el-table>\r\n       <el-pagination\r\n         :current-page=\"page\"\r\n-        :page-sizes=\"size\"\r\n-        :page-size=\"[2, 5, 10, 20]\"\r\n+        :page-size=\"size\"\r\n+        :page-sizes=\"[2, 5, 10, 20]\"\r\n         layout=\"total, sizes, prev, pager, next, jumper\"\r\n         :total=\"total\"\r\n         @size-change=\"handleSizeChange\"\r\n         @current-change=\"handleCurrentChange\"\r\n@@ -99,8 +99,18 @@\n }\r\n getListData()\r\n // 监听语言切换\r\n watchSwitchLang(getListData)\r\n+\r\n+// 分页相关\r\n+/**\r\n+ * size改变触发事件\r\n+ */\r\n+const handleSizeChange = () => {}\r\n+/**\r\n+ * 页码改变触发事件\r\n+ */\r\n+const handleCurrentChange = () => {}\r\n </script>\r\n \r\n <style lang=\"scss\" scoped>\r\n .user-manage-container {\r\n"
                },
                {
                    "date": 1697052879714,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -104,13 +104,19 @@\n // 分页相关\r\n /**\r\n  * size改变触发事件\r\n  */\r\n-const handleSizeChange = () => {}\r\n+const handleSizeChange = (currentSize) => {\r\n+  size.value = currentSize\r\n+  getListData()\r\n+}\r\n /**\r\n  * 页码改变触发事件\r\n  */\r\n-const handleCurrentChange = () => {}\r\n+const handleCurrentChange = (currentPage) => {\r\n+  page.value = currentPage\r\n+  getListData()\r\n+}\r\n </script>\r\n \r\n <style lang=\"scss\" scoped>\r\n .user-manage-container {\r\n"
                },
                {
                    "date": 1697863573798,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,15 +2,17 @@\n   <div class=\"user-manage-container\">\r\n     <!-- excel 导入与导出 -->\r\n     <el-card class=\"header\">\r\n       <div>\r\n-        <el-button type=\"primary\">{{ $t('msg.excel.importExcel') }}</el-button>\r\n+        <el-button type=\"primary\" @click=\"onImportExcelClick\">{{\r\n+          $t('msg.excel.importExcel')\r\n+        }}</el-button>\r\n         <el-button type=\"success\">{{ $t('msg.excel.exportExcel') }}</el-button>\r\n       </div>\r\n     </el-card>\r\n     <!-- 员工详情 -->\r\n-    <el-card>\r\n-      <el-table :data=\"tableData\" border style=\"width: 100%\">\r\n+    <el-card class=\"user-detail\">\r\n+      <el-table :data=\"tableData\" border style=\"width: 100%\" height=\"300\">\r\n         <!-- # -->\r\n         <el-table-column label=\"#\" type=\"index\"></el-table-column>\r\n         <!-- 姓名 -->\r\n         <el-table-column\r\n@@ -38,12 +40,14 @@\n             </div>\r\n           </template>\r\n         </el-table-column>\r\n         <!-- 开通时间 -->\r\n-        <el-table-column\r\n-          prop=\"openTime\"\r\n-          :label=\"$t('msg.excel.openTime')\"\r\n-        ></el-table-column>\r\n+        <el-table-column :label=\"$t('msg.excel.openTime')\">\r\n+          <template #default=\"{ row }\">\r\n+            <!-- 使用全局属性处理时间解析 -->\r\n+            {{ $filters.dateFilter(row.openTime) }}\r\n+          </template>\r\n+        </el-table-column>\r\n         <!-- 操作 -->\r\n         <el-table-column\r\n           :label=\"$t('msg.excel.action')\"\r\n           fixed=\"right\"\r\n@@ -55,9 +59,9 @@\n             }}</el-button>\r\n             <el-button type=\"info\" size=\"small\">{{\r\n               $t('msg.excel.showRole')\r\n             }}</el-button>\r\n-            <el-button type=\"danger\" size=\"small\">{{\r\n+            <el-button type=\"danger\" size=\"small\" @click=\"onRemoveClick\">{{\r\n               $t('msg.excel.remove')\r\n             }}</el-button>\r\n           </template>\r\n         </el-table-column>\r\n@@ -77,9 +81,10 @@\n \r\n <script setup>\r\n import { getUserManageList } from '@/api/user-manage'\r\n import { watchSwitchLang } from '@/utils/i18n'\r\n-import { ref } from 'vue'\r\n+import { onActivated, ref } from 'vue'\r\n+import { useRouter } from 'vue-router'\r\n \r\n // 数据相关\r\n const tableData = ref([])\r\n const total = ref(0)\r\n@@ -99,8 +104,10 @@\n }\r\n getListData()\r\n // 监听语言切换\r\n watchSwitchLang(getListData)\r\n+// 处理导入用户后数据不重新加载的问题\r\n+onActivated(getListData)\r\n \r\n // 分页相关\r\n /**\r\n  * size改变触发事件\r\n@@ -115,28 +122,43 @@\n const handleCurrentChange = (currentPage) => {\r\n   page.value = currentPage\r\n   getListData()\r\n }\r\n+\r\n+const router = useRouter()\r\n+// excel导入点击事件\r\n+const onImportExcelClick = () => {\r\n+  router.push('/user/import')\r\n+}\r\n+/**\r\n+ * 删除按钮点击事件\r\n+ */\r\n+const onRemoveClick = () => {}\r\n </script>\r\n \r\n <style lang=\"scss\" scoped>\r\n .user-manage-container {\r\n   .header {\r\n     margin-bottom: 22px;\r\n     text-align: right;\r\n   }\r\n-  ::v-deep .avatar {\r\n+  :deep(.avatar) {\r\n     width: 60px;\r\n     height: 60px;\r\n     border-radius: 50%;\r\n   }\r\n \r\n-  ::v-deep .el-tag {\r\n+  :deep(.el-tag) {\r\n     margin-right: 6px;\r\n   }\r\n \r\n   .pagination {\r\n     margin-top: 20px;\r\n     text-align: center;\r\n   }\r\n+  .user-detail {\r\n+    :deep(.el-pagination) {\r\n+      justify-content: center;\r\n+    }\r\n+  }\r\n }\r\n </style>\r\n"
                },
                {
                    "date": 1697863620128,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,16 +52,16 @@\n           :label=\"$t('msg.excel.action')\"\r\n           fixed=\"right\"\r\n           width=\"260\"\r\n         >\r\n-          <template #default>\r\n+          <template #default=\"{ row }\">\r\n             <el-button type=\"primary\" size=\"small\">{{\r\n               $t('msg.excel.show')\r\n             }}</el-button>\r\n             <el-button type=\"info\" size=\"small\">{{\r\n               $t('msg.excel.showRole')\r\n             }}</el-button>\r\n-            <el-button type=\"danger\" size=\"small\" @click=\"onRemoveClick\">{{\r\n+            <el-button type=\"danger\" size=\"small\" @click=\"onRemoveClick(row)\">{{\r\n               $t('msg.excel.remove')\r\n             }}</el-button>\r\n           </template>\r\n         </el-table-column>\r\n"
                },
                {
                    "date": 1697863642315,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -131,9 +131,11 @@\n }\r\n /**\r\n  * 删除按钮点击事件\r\n  */\r\n-const onRemoveClick = () => {}\r\n+const onRemoveClick = (row) => {\r\n+  console.log(row)\r\n+}\r\n </script>\r\n \r\n <style lang=\"scss\" scoped>\r\n .user-manage-container {\r\n"
                },
                {
                    "date": 1697865025125,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -81,9 +81,11 @@\n \r\n <script setup>\r\n import { getUserManageList } from '@/api/user-manage'\r\n import { watchSwitchLang } from '@/utils/i18n'\r\n+import { ElMessageBox } from 'element-plus'\r\n import { onActivated, ref } from 'vue'\r\n+import { useI18n } from 'vue-i18n'\r\n import { useRouter } from 'vue-router'\r\n \r\n // 数据相关\r\n const tableData = ref([])\r\n@@ -128,13 +130,22 @@\n // excel导入点击事件\r\n const onImportExcelClick = () => {\r\n   router.push('/user/import')\r\n }\r\n+\r\n+const i18n = useI18n()\r\n /**\r\n  * 删除按钮点击事件\r\n  */\r\n const onRemoveClick = (row) => {\r\n   console.log(row)\r\n+  ElMessageBox.confirm(\r\n+    i18n.t('msg.excel.dialogTitle1') +\r\n+      row.username +\r\n+      i18n.t('msg.excel.dialogTitle2')\r\n+  ).then(() => {\r\n+    console.log('确定')\r\n+  })\r\n }\r\n </script>\r\n \r\n <style lang=\"scss\" scoped>\r\n"
                },
                {
                    "date": 1697865089788,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -141,11 +141,15 @@\n   ElMessageBox.confirm(\r\n     i18n.t('msg.excel.dialogTitle1') +\r\n       row.username +\r\n       i18n.t('msg.excel.dialogTitle2')\r\n-  ).then(() => {\r\n-    console.log('确定')\r\n-  })\r\n+  )\r\n+    .then(() => {\r\n+      console.log('确定')\r\n+    })\r\n+    .catch(() => {\r\n+      console.log('取消')\r\n+    })\r\n }\r\n </script>\r\n \r\n <style lang=\"scss\" scoped>\r\n"
                },
                {
                    "date": 1697865297595,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,9 @@\n   </div>\r\n </template>\r\n \r\n <script setup>\r\n-import { getUserManageList } from '@/api/user-manage'\r\n+import { getUserManageList, deleteUser } from '@/api/user-manage'\r\n import { watchSwitchLang } from '@/utils/i18n'\r\n import { ElMessageBox } from 'element-plus'\r\n import { onActivated, ref } from 'vue'\r\n import { useI18n } from 'vue-i18n'\r\n@@ -143,8 +143,11 @@\n       row.username +\r\n       i18n.t('msg.excel.dialogTitle2')\r\n   )\r\n     .then(() => {\r\n+      const result = deleteUser(row.id)\r\n+      console.log(result)\r\n+      if (result.)\r\n       console.log('确定')\r\n     })\r\n     .catch(() => {\r\n       console.log('取消')\r\n"
                },
                {
                    "date": 1697865419428,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -81,9 +81,9 @@\n \r\n <script setup>\r\n import { getUserManageList, deleteUser } from '@/api/user-manage'\r\n import { watchSwitchLang } from '@/utils/i18n'\r\n-import { ElMessageBox } from 'element-plus'\r\n+import { ElMessage, ElMessageBox } from 'element-plus'\r\n import { onActivated, ref } from 'vue'\r\n import { useI18n } from 'vue-i18n'\r\n import { useRouter } from 'vue-router'\r\n \r\n@@ -142,12 +142,14 @@\n     i18n.t('msg.excel.dialogTitle1') +\r\n       row.username +\r\n       i18n.t('msg.excel.dialogTitle2')\r\n   )\r\n-    .then(() => {\r\n-      const result = deleteUser(row.id)\r\n+    .then(async () => {\r\n+      const result = await deleteUser(row.id)\r\n       console.log(result)\r\n-      if (result.)\r\n+      if (result.success) {\r\n+        ElMessage.success()\r\n+      }\r\n       console.log('确定')\r\n     })\r\n     .catch(() => {\r\n       console.log('取消')\r\n"
                },
                {
                    "date": 1697865522954,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -143,14 +143,17 @@\n       row.username +\r\n       i18n.t('msg.excel.dialogTitle2')\r\n   )\r\n     .then(async () => {\r\n+      // 删除用户\r\n       const result = await deleteUser(row.id)\r\n       console.log(result)\r\n       if (result.success) {\r\n-        ElMessage.success()\r\n+        ElMessage.success(i18n.t('msg.excel.removeSuccess'))\r\n+        // 重新渲染数据\r\n+        getListData()\r\n+        console.log('确定')\r\n       }\r\n-      console.log('确定')\r\n     })\r\n     .catch(() => {\r\n       console.log('取消')\r\n     })\r\n"
                },
                {
                    "date": 1697865600861,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,9 @@\n   </div>\r\n </template>\r\n \r\n <script setup>\r\n-import { getUserManageList, deleteUser } from '@/api/user-manage'\r\n+import { deleteUser, getUserManageList } from '@/api/user-manage'\r\n import { watchSwitchLang } from '@/utils/i18n'\r\n import { ElMessage, ElMessageBox } from 'element-plus'\r\n import { onActivated, ref } from 'vue'\r\n import { useI18n } from 'vue-i18n'\r\n@@ -153,9 +153,10 @@\n         getListData()\r\n         console.log('确定')\r\n       }\r\n     })\r\n-    .catch(() => {\r\n+    .catch((err) => {\r\n+      console.log(err)\r\n       console.log('取消')\r\n     })\r\n }\r\n </script>\r\n"
                },
                {
                    "date": 1697866157686,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -144,9 +144,9 @@\n       i18n.t('msg.excel.dialogTitle2')\r\n   )\r\n     .then(async () => {\r\n       // 删除用户\r\n-      const result = await deleteUser(row.id)\r\n+      const result = await deleteUser(row._id)\r\n       console.log(result)\r\n       if (result.success) {\r\n         ElMessage.success(i18n.t('msg.excel.removeSuccess'))\r\n         // 重新渲染数据\r\n"
                },
                {
                    "date": 1697866315048,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -144,16 +144,13 @@\n       i18n.t('msg.excel.dialogTitle2')\r\n   )\r\n     .then(async () => {\r\n       // 删除用户\r\n-      const result = await deleteUser(row._id)\r\n-      console.log(result)\r\n-      if (result.success) {\r\n-        ElMessage.success(i18n.t('msg.excel.removeSuccess'))\r\n-        // 重新渲染数据\r\n-        getListData()\r\n-        console.log('确定')\r\n-      }\r\n+      await deleteUser(row._id)\r\n+      ElMessage.success(i18n.t('msg.excel.removeSuccess'))\r\n+      // 重新渲染数据\r\n+      getListData()\r\n+      console.log('确定')\r\n     })\r\n     .catch((err) => {\r\n       console.log(err)\r\n       console.log('取消')\r\n"
                },
                {
                    "date": 1697866446966,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -152,8 +152,9 @@\n       console.log('确定')\r\n     })\r\n     .catch((err) => {\r\n       console.log(err)\r\n+      ElMessage.error(i18n.t('msg.excel.'))\r\n       console.log('取消')\r\n     })\r\n }\r\n </script>\r\n"
                },
                {
                    "date": 1697866613173,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -152,9 +152,9 @@\n       console.log('确定')\r\n     })\r\n     .catch((err) => {\r\n       console.log(err)\r\n-      ElMessage.error(i18n.t('msg.excel.'))\r\n+      ElMessage.error(i18n.t('msg.excel.UndeleteUser'))\r\n       console.log('取消')\r\n     })\r\n }\r\n </script>\r\n"
                },
                {
                    "date": 1697866711556,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -150,12 +150,10 @@\n       // 重新渲染数据\r\n       getListData()\r\n       console.log('确定')\r\n     })\r\n-    .catch((err) => {\r\n-      console.log(err)\r\n+    .catch(() => {\r\n       ElMessage.error(i18n.t('msg.excel.UndeleteUser'))\r\n-      console.log('取消')\r\n     })\r\n }\r\n </script>\r\n \r\n"
                },
                {
                    "date": 1697866731450,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -148,9 +148,8 @@\n       await deleteUser(row._id)\r\n       ElMessage.success(i18n.t('msg.excel.removeSuccess'))\r\n       // 重新渲染数据\r\n       getListData()\r\n-      console.log('确定')\r\n     })\r\n     .catch(() => {\r\n       ElMessage.error(i18n.t('msg.excel.UndeleteUser'))\r\n     })\r\n"
                },
                {
                    "date": 1697867089230,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,191 @@\n+<template>\r\n+  <div class=\"user-manage-container\">\r\n+    <!-- excel 导入与导出 -->\r\n+    <el-card class=\"header\">\r\n+      <div>\r\n+        <el-button type=\"primary\" @click=\"onImportExcelClick\">{{\r\n+          $t('msg.excel.importExcel')\r\n+        }}</el-button>\r\n+        <el-button type=\"success\">{{ $t('msg.excel.exportExcel') }}</el-button>\r\n+      </div>\r\n+    </el-card>\r\n+    <!-- 员工详情 -->\r\n+    <el-card class=\"user-detail\">\r\n+      <el-table :data=\"tableData\" border style=\"width: 100%\" height=\"300\">\r\n+        <!-- # -->\r\n+        <el-table-column label=\"#\" type=\"index\"></el-table-column>\r\n+        <!-- 姓名 -->\r\n+        <el-table-column\r\n+          prop=\"username\"\r\n+          :label=\"$t('msg.excel.name')\"\r\n+        ></el-table-column>\r\n+        <!-- 联系方式 -->\r\n+        <el-table-column\r\n+          prop=\"mobile\"\r\n+          :label=\"$t('msg.excel.mobile')\"\r\n+        ></el-table-column>\r\n+        <!-- 头像 -->\r\n+        <el-table-column :label=\"$t('msg.excel.avatar')\" align=\"center\">\r\n+          <template v-slot=\"{ row }\">\r\n+            <el-image class=\"avatar\" :src=\"row.avatar\"></el-image>\r\n+          </template>\r\n+        </el-table-column>\r\n+        <!-- 角色 -->\r\n+        <el-table-column :label=\"$t('msg.excel.role')\">\r\n+          <template #default=\"{ row }\">\r\n+            <div v-if=\"row.role && row.role.length > 0\">\r\n+              <el-tag v-for=\"item in row.role\" :key=\"item.id\" size=\"small\">{{\r\n+                item.title\r\n+              }}</el-tag>\r\n+            </div>\r\n+          </template>\r\n+        </el-table-column>\r\n+        <!-- 开通时间 -->\r\n+        <el-table-column :label=\"$t('msg.excel.openTime')\">\r\n+          <template #default=\"{ row }\">\r\n+            <!-- 使用全局属性处理时间解析 -->\r\n+            {{ $filters.dateFilter(row.openTime) }}\r\n+          </template>\r\n+        </el-table-column>\r\n+        <!-- 操作 -->\r\n+        <el-table-column\r\n+          :label=\"$t('msg.excel.action')\"\r\n+          fixed=\"right\"\r\n+          width=\"260\"\r\n+        >\r\n+          <template #default=\"{ row }\">\r\n+            <el-button type=\"primary\" size=\"small\">{{\r\n+              $t('msg.excel.show')\r\n+            }}</el-button>\r\n+            <el-button type=\"info\" size=\"small\">{{\r\n+              $t('msg.excel.showRole')\r\n+            }}</el-button>\r\n+            <el-button type=\"danger\" size=\"small\" @click=\"onRemoveClick(row)\">{{\r\n+              $t('msg.excel.remove')\r\n+            }}</el-button>\r\n+          </template>\r\n+        </el-table-column>\r\n+      </el-table>\r\n+      <el-pagination\r\n+        :current-page=\"page\"\r\n+        :page-size=\"size\"\r\n+        :page-sizes=\"[2, 5, 10, 20]\"\r\n+        layout=\"total, sizes, prev, pager, next, jumper\"\r\n+        :total=\"total\"\r\n+        @size-change=\"handleSizeChange\"\r\n+        @current-change=\"handleCurrentChange\"\r\n+      ></el-pagination>\r\n+    </el-card>\r\n+  </div>\r\n+</template>\r\n+\r\n+<script setup>\r\n+import { deleteUser, getUserManageList } from '@/api/user-manage'\r\n+import { watchSwitchLang } from '@/utils/i18n'\r\n+import { ElMessage, ElMessageBox } from 'element-plus'\r\n+import { onActivated, ref } from 'vue'\r\n+import { useI18n } from 'vue-i18n'\r\n+import { useRouter } from 'vue-router'\r\n+\r\n+// 数据相关\r\n+const tableData = ref([])\r\n+const total = ref(0)\r\n+const page = ref(1)\r\n+const size = ref(2)\r\n+\r\n+// 获取数据\r\n+const getListData = async () => {\r\n+  const result = await getUserManageList({\r\n+    page: page.value,\r\n+    size: size.value\r\n+  })\r\n+  // console.log(result)\r\n+  total.value = result.total\r\n+  // 员工列表数据\r\n+  tableData.value = result.list\r\n+}\r\n+getListData()\r\n+// 监听语言切换\r\n+watchSwitchLang(getListData)\r\n+// 处理导入用户后数据不重新加载的问题\r\n+onActivated(getListData)\r\n+\r\n+// 分页相关\r\n+/**\r\n+ * size改变触发事件\r\n+ */\r\n+const handleSizeChange = (currentSize) => {\r\n+  size.value = currentSize\r\n+  getListData()\r\n+}\r\n+/**\r\n+ * 页码改变触发事件\r\n+ */\r\n+const handleCurrentChange = (currentPage) => {\r\n+  page.value = currentPage\r\n+  getListData()\r\n+}\r\n+\r\n+const router = useRouter()\r\n+// excel导入点击事件\r\n+const onImportExcelClick = () => {\r\n+  router.push('/user/import')\r\n+}\r\n+\r\n+const i18n = useI18n()\r\n+/**\r\n+ * 删除按钮点击事件\r\n+ */\r\n+const onRemoveClick = (row) => {\r\n+  console.log(row)\r\n+  ElMessageBox.confirm(\r\n+    i18n.t('msg.excel.dialogTitle1') +\r\n+      row.username +\r\n+      i18n.t('msg.excel.dialogTitle2'),\r\n+    'Warning',\r\n+    {\r\n+      confirmButtonText: 'OK',\r\n+      cancelButtonText: 'Cancel',\r\n+      type: 'warning'\r\n+    }\r\n+  )\r\n+    .then(async () => {\r\n+      // 删除用户\r\n+      await deleteUser(row._id)\r\n+      ElMessage.success(i18n.t('msg.excel.removeSuccess'))\r\n+      // 重新渲染数据\r\n+      getListData()\r\n+    })\r\n+    .catch(() => {\r\n+      ElMessage.error(i18n.t('msg.excel.UndeleteUser'))\r\n+    })\r\n+}\r\n+</script>\r\n+\r\n+<style lang=\"scss\" scoped>\r\n+.user-manage-container {\r\n+  .header {\r\n+    margin-bottom: 22px;\r\n+    text-align: right;\r\n+  }\r\n+  :deep(.avatar) {\r\n+    width: 60px;\r\n+    height: 60px;\r\n+    border-radius: 50%;\r\n+  }\r\n+\r\n+  :deep(.el-tag) {\r\n+    margin-right: 6px;\r\n+  }\r\n+\r\n+  .pagination {\r\n+    margin-top: 20px;\r\n+    text-align: center;\r\n+  }\r\n+  .user-detail {\r\n+    :deep(.el-pagination) {\r\n+      justify-content: center;\r\n+    }\r\n+  }\r\n+}\r\n+</style>\r\n"
                },
                {
                    "date": 1697867099966,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -188,189 +188,4 @@\n     }\r\n   }\r\n }\r\n </style>\r\n-<template>\r\n-  <div class=\"user-manage-container\">\r\n-    <!-- excel 导入与导出 -->\r\n-    <el-card class=\"header\">\r\n-      <div>\r\n-        <el-button type=\"primary\" @click=\"onImportExcelClick\">{{\r\n-          $t('msg.excel.importExcel')\r\n-        }}</el-button>\r\n-        <el-button type=\"success\">{{ $t('msg.excel.exportExcel') }}</el-button>\r\n-      </div>\r\n-    </el-card>\r\n-    <!-- 员工详情 -->\r\n-    <el-card class=\"user-detail\">\r\n-      <el-table :data=\"tableData\" border style=\"width: 100%\" height=\"300\">\r\n-        <!-- # -->\r\n-        <el-table-column label=\"#\" type=\"index\"></el-table-column>\r\n-        <!-- 姓名 -->\r\n-        <el-table-column\r\n-          prop=\"username\"\r\n-          :label=\"$t('msg.excel.name')\"\r\n-        ></el-table-column>\r\n-        <!-- 联系方式 -->\r\n-        <el-table-column\r\n-          prop=\"mobile\"\r\n-          :label=\"$t('msg.excel.mobile')\"\r\n-        ></el-table-column>\r\n-        <!-- 头像 -->\r\n-        <el-table-column :label=\"$t('msg.excel.avatar')\" align=\"center\">\r\n-          <template v-slot=\"{ row }\">\r\n-            <el-image class=\"avatar\" :src=\"row.avatar\"></el-image>\r\n-          </template>\r\n-        </el-table-column>\r\n-        <!-- 角色 -->\r\n-        <el-table-column :label=\"$t('msg.excel.role')\">\r\n-          <template #default=\"{ row }\">\r\n-            <div v-if=\"row.role && row.role.length > 0\">\r\n-              <el-tag v-for=\"item in row.role\" :key=\"item.id\" size=\"small\">{{\r\n-                item.title\r\n-              }}</el-tag>\r\n-            </div>\r\n-          </template>\r\n-        </el-table-column>\r\n-        <!-- 开通时间 -->\r\n-        <el-table-column :label=\"$t('msg.excel.openTime')\">\r\n-          <template #default=\"{ row }\">\r\n-            <!-- 使用全局属性处理时间解析 -->\r\n-            {{ $filters.dateFilter(row.openTime) }}\r\n-          </template>\r\n-        </el-table-column>\r\n-        <!-- 操作 -->\r\n-        <el-table-column\r\n-          :label=\"$t('msg.excel.action')\"\r\n-          fixed=\"right\"\r\n-          width=\"260\"\r\n-        >\r\n-          <template #default=\"{ row }\">\r\n-            <el-button type=\"primary\" size=\"small\">{{\r\n-              $t('msg.excel.show')\r\n-            }}</el-button>\r\n-            <el-button type=\"info\" size=\"small\">{{\r\n-              $t('msg.excel.showRole')\r\n-            }}</el-button>\r\n-            <el-button type=\"danger\" size=\"small\" @click=\"onRemoveClick(row)\">{{\r\n-              $t('msg.excel.remove')\r\n-            }}</el-button>\r\n-          </template>\r\n-        </el-table-column>\r\n-      </el-table>\r\n-      <el-pagination\r\n-        :current-page=\"page\"\r\n-        :page-size=\"size\"\r\n-        :page-sizes=\"[2, 5, 10, 20]\"\r\n-        layout=\"total, sizes, prev, pager, next, jumper\"\r\n-        :total=\"total\"\r\n-        @size-change=\"handleSizeChange\"\r\n-        @current-change=\"handleCurrentChange\"\r\n-      ></el-pagination>\r\n-    </el-card>\r\n-  </div>\r\n-</template>\r\n-\r\n-<script setup>\r\n-import { deleteUser, getUserManageList } from '@/api/user-manage'\r\n-import { watchSwitchLang } from '@/utils/i18n'\r\n-import { ElMessage, ElMessageBox } from 'element-plus'\r\n-import { onActivated, ref } from 'vue'\r\n-import { useI18n } from 'vue-i18n'\r\n-import { useRouter } from 'vue-router'\r\n-\r\n-// 数据相关\r\n-const tableData = ref([])\r\n-const total = ref(0)\r\n-const page = ref(1)\r\n-const size = ref(2)\r\n-\r\n-// 获取数据\r\n-const getListData = async () => {\r\n-  const result = await getUserManageList({\r\n-    page: page.value,\r\n-    size: size.value\r\n-  })\r\n-  // console.log(result)\r\n-  total.value = result.total\r\n-  // 员工列表数据\r\n-  tableData.value = result.list\r\n-}\r\n-getListData()\r\n-// 监听语言切换\r\n-watchSwitchLang(getListData)\r\n-// 处理导入用户后数据不重新加载的问题\r\n-onActivated(getListData)\r\n-\r\n-// 分页相关\r\n-/**\r\n- * size改变触发事件\r\n- */\r\n-const handleSizeChange = (currentSize) => {\r\n-  size.value = currentSize\r\n-  getListData()\r\n-}\r\n-/**\r\n- * 页码改变触发事件\r\n- */\r\n-const handleCurrentChange = (currentPage) => {\r\n-  page.value = currentPage\r\n-  getListData()\r\n-}\r\n-\r\n-const router = useRouter()\r\n-// excel导入点击事件\r\n-const onImportExcelClick = () => {\r\n-  router.push('/user/import')\r\n-}\r\n-\r\n-const i18n = useI18n()\r\n-/**\r\n- * 删除按钮点击事件\r\n- */\r\n-const onRemoveClick = (row) => {\r\n-  console.log(row)\r\n-  ElMessageBox.confirm(\r\n-    i18n.t('msg.excel.dialogTitle1') +\r\n-      row.username +\r\n-      i18n.t('msg.excel.dialogTitle2')\r\n-  )\r\n-    .then(async () => {\r\n-      // 删除用户\r\n-      await deleteUser(row._id)\r\n-      ElMessage.success(i18n.t('msg.excel.removeSuccess'))\r\n-      // 重新渲染数据\r\n-      getListData()\r\n-    })\r\n-    .catch(() => {\r\n-      ElMessage.error(i18n.t('msg.excel.UndeleteUser'))\r\n-    })\r\n-}\r\n-</script>\r\n-\r\n-<style lang=\"scss\" scoped>\r\n-.user-manage-container {\r\n-  .header {\r\n-    margin-bottom: 22px;\r\n-    text-align: right;\r\n-  }\r\n-  :deep(.avatar) {\r\n-    width: 60px;\r\n-    height: 60px;\r\n-    border-radius: 50%;\r\n-  }\r\n-\r\n-  :deep(.el-tag) {\r\n-    margin-right: 6px;\r\n-  }\r\n-\r\n-  .pagination {\r\n-    margin-top: 20px;\r\n-    text-align: center;\r\n-  }\r\n-  .user-detail {\r\n-    :deep(.el-pagination) {\r\n-      justify-content: center;\r\n-    }\r\n-  }\r\n-}\r\n-</style>\r\n"
                },
                {
                    "date": 1697867130001,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -140,15 +140,9 @@\n   console.log(row)\r\n   ElMessageBox.confirm(\r\n     i18n.t('msg.excel.dialogTitle1') +\r\n       row.username +\r\n-      i18n.t('msg.excel.dialogTitle2'),\r\n-    'Warning',\r\n-    {\r\n-      confirmButtonText: 'OK',\r\n-      cancelButtonText: 'Cancel',\r\n-      type: 'warning'\r\n-    }\r\n+      i18n.t('msg.excel.dialogTitle2')\r\n   )\r\n     .then(async () => {\r\n       // 删除用户\r\n       await deleteUser(row._id)\r\n"
                },
                {
                    "date": 1697867213933,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -140,9 +140,15 @@\n   console.log(row)\r\n   ElMessageBox.confirm(\r\n     i18n.t('msg.excel.dialogTitle1') +\r\n       row.username +\r\n-      i18n.t('msg.excel.dialogTitle2')\r\n+      i18n.t('msg.excel.dialogTitle2'),\r\n+    'Warning',\r\n+    {\r\n+      confirmButtonText: i18n.t('msg.excel.dialogTitle2'),\r\n+      cancelButtonText: i18n.t('msg.excel.dialogTitle2'),\r\n+      type: 'warning'\r\n+    }\r\n   )\r\n     .then(async () => {\r\n       // 删除用户\r\n       await deleteUser(row._id)\r\n"
                },
                {
                    "date": 1697867236789,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -143,10 +143,10 @@\n       row.username +\r\n       i18n.t('msg.excel.dialogTitle2'),\r\n     'Warning',\r\n     {\r\n-      confirmButtonText: i18n.t('msg.excel.dialogTitle2'),\r\n-      cancelButtonText: i18n.t('msg.excel.dialogTitle2'),\r\n+      confirmButtonText: i18n.t('msg.universal.dialogTitle2'),\r\n+      cancelButtonText: i18n.t('msg.universal.dialogTitle2'),\r\n       type: 'warning'\r\n     }\r\n   )\r\n     .then(async () => {\r\n"
                },
                {
                    "date": 1697867244643,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -143,9 +143,9 @@\n       row.username +\r\n       i18n.t('msg.excel.dialogTitle2'),\r\n     'Warning',\r\n     {\r\n-      confirmButtonText: i18n.t('msg.universal.dialogTitle2'),\r\n+      confirmButtonText: i18n.t('msg.universal.confirm'),\r\n       cancelButtonText: i18n.t('msg.universal.dialogTitle2'),\r\n       type: 'warning'\r\n     }\r\n   )\r\n"
                },
                {
                    "date": 1697867250874,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -144,9 +144,9 @@\n       i18n.t('msg.excel.dialogTitle2'),\r\n     'Warning',\r\n     {\r\n       confirmButtonText: i18n.t('msg.universal.confirm'),\r\n-      cancelButtonText: i18n.t('msg.universal.dialogTitle2'),\r\n+      cancelButtonText: i18n.t('msg.universal.cancel'),\r\n       type: 'warning'\r\n     }\r\n   )\r\n     .then(async () => {\r\n"
                },
                {
                    "date": 1697867273415,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -140,15 +140,9 @@\n   console.log(row)\r\n   ElMessageBox.confirm(\r\n     i18n.t('msg.excel.dialogTitle1') +\r\n       row.username +\r\n-      i18n.t('msg.excel.dialogTitle2'),\r\n-    'Warning',\r\n-    {\r\n-      confirmButtonText: i18n.t('msg.universal.confirm'),\r\n-      cancelButtonText: i18n.t('msg.universal.cancel'),\r\n-      type: 'warning'\r\n-    }\r\n+      i18n.t('msg.excel.dialogTitle2')\r\n   )\r\n     .then(async () => {\r\n       // 删除用户\r\n       await deleteUser(row._id)\r\n"
                },
                {
                    "date": 1697867352215,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -140,9 +140,13 @@\n   console.log(row)\r\n   ElMessageBox.confirm(\r\n     i18n.t('msg.excel.dialogTitle1') +\r\n       row.username +\r\n-      i18n.t('msg.excel.dialogTitle2')\r\n+      i18n.t('msg.excel.dialogTitle2'),\r\n+    'Warning',\r\n+    {\r\n+      type: 'warning'\r\n+    }\r\n   )\r\n     .then(async () => {\r\n       // 删除用户\r\n       await deleteUser(row._id)\r\n"
                },
                {
                    "date": 1697867447606,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -141,9 +141,9 @@\n   ElMessageBox.confirm(\r\n     i18n.t('msg.excel.dialogTitle1') +\r\n       row.username +\r\n       i18n.t('msg.excel.dialogTitle2'),\r\n-    'Warning',\r\n+    i18n.t('msg.excel.Warning'),\r\n     {\r\n       type: 'warning'\r\n     }\r\n   )\r\n"
                },
                {
                    "date": 1697869124439,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,8 +74,9 @@\n         :total=\"total\"\r\n         @size-change=\"handleSizeChange\"\r\n         @current-change=\"handleCurrentChange\"\r\n       ></el-pagination>\r\n+      <ExportToExcel v-model=\"exportToExcelVisible\"/>\r\n     </el-card>\r\n   </div>\r\n </template>\r\n \r\n@@ -85,8 +86,9 @@\n import { ElMessage, ElMessageBox } from 'element-plus'\r\n import { onActivated, ref } from 'vue'\r\n import { useI18n } from 'vue-i18n'\r\n import { useRouter } from 'vue-router'\r\n+import ExportToExcel from './components/ExportToExcel.vue'\r\n \r\n // 数据相关\r\n const tableData = ref([])\r\n const total = ref(0)\r\n"
                },
                {
                    "date": 1697869186451,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,9 +74,9 @@\n         :total=\"total\"\r\n         @size-change=\"handleSizeChange\"\r\n         @current-change=\"handleCurrentChange\"\r\n       ></el-pagination>\r\n-      <ExportToExcel v-model=\"exportToExcelVisible\"/>\r\n+      <ExportToExcel v-model=\"exportToExcelVisible\" />\r\n     </el-card>\r\n   </div>\r\n </template>\r\n \r\n@@ -159,8 +159,10 @@\n     .catch(() => {\r\n       ElMessage.error(i18n.t('msg.excel.UndeleteUser'))\r\n     })\r\n }\r\n+\r\n+const\r\n </script>\r\n \r\n <style lang=\"scss\" scoped>\r\n .user-manage-container {\r\n"
                },
                {
                    "date": 1697869280928,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -159,9 +159,16 @@\n     .catch(() => {\r\n       ElMessage.error(i18n.t('msg.excel.UndeleteUser'))\r\n     })\r\n }\r\n-\r\n+// 控制dialog弹出层是否展示\r\n+const selectColorVisible = ref(false)\r\n+// 点击菜单项触发的事件回调\r\n+const handleSetTheme = (command) => {\r\n+  // console.log(command)\r\n+  selectColorVisible.value = true\r\n+}\r\n+const exportToExcelVisible = ref(false)\r\n const\r\n </script>\r\n \r\n <style lang=\"scss\" scoped>\r\n"
                },
                {
                    "date": 1697869379426,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,11 @@\n       <div>\r\n         <el-button type=\"primary\" @click=\"onImportExcelClick\">{{\r\n           $t('msg.excel.importExcel')\r\n         }}</el-button>\r\n-        <el-button type=\"success\">{{ $t('msg.excel.exportExcel') }}</el-button>\r\n+        <el-button type=\"success\" @click=\"onExportToExcelClick\">{{\r\n+          $t('msg.excel.exportExcel')\r\n+        }}</el-button>\r\n       </div>\r\n     </el-card>\r\n     <!-- 员工详情 -->\r\n     <el-card class=\"user-detail\">\r\n@@ -159,17 +161,19 @@\n     .catch(() => {\r\n       ElMessage.error(i18n.t('msg.excel.UndeleteUser'))\r\n     })\r\n }\r\n-// 控制dialog弹出层是否展示\r\n const selectColorVisible = ref(false)\r\n // 点击菜单项触发的事件回调\r\n const handleSetTheme = (command) => {\r\n   // console.log(command)\r\n   selectColorVisible.value = true\r\n }\r\n+// 控制dialog弹出层是否展示\r\n const exportToExcelVisible = ref(false)\r\n-const\r\n+const onExportToExcelClick = () => {\r\n+  exportToExcelVisible.value = true\r\n+}\r\n </script>\r\n \r\n <style lang=\"scss\" scoped>\r\n .user-manage-container {\r\n"
                },
                {
                    "date": 1697869437658,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -161,16 +161,12 @@\n     .catch(() => {\r\n       ElMessage.error(i18n.t('msg.excel.UndeleteUser'))\r\n     })\r\n }\r\n-const selectColorVisible = ref(false)\r\n-// 点击菜单项触发的事件回调\r\n-const handleSetTheme = (command) => {\r\n-  // console.log(command)\r\n-  selectColorVisible.value = true\r\n-}\r\n+\r\n // 控制dialog弹出层是否展示\r\n const exportToExcelVisible = ref(false)\r\n+// 点击导出excel按钮\r\n const onExportToExcelClick = () => {\r\n   exportToExcelVisible.value = true\r\n }\r\n </script>\r\n"
                },
                {
                    "date": 1698482189761,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -61,8 +61,9 @@\n             }}</el-button>\r\n             <el-button type=\"info\" size=\"small\">{{\r\n               $t('msg.excel.showRole')\r\n             }}</el-button>\r\n+            <!-- 删除 -->\r\n             <el-button type=\"danger\" size=\"small\" @click=\"onRemoveClick(row)\">{{\r\n               $t('msg.excel.remove')\r\n             }}</el-button>\r\n           </template>\r\n"
                },
                {
                    "date": 1698482227530,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -55,11 +55,13 @@\n           fixed=\"right\"\r\n           width=\"260\"\r\n         >\r\n           <template #default=\"{ row }\">\r\n-            <el-button type=\"primary\" size=\"small\">{{\r\n+            <!-- 查看 -->\r\n+            <el-button type=\"primary\" size=\"small\" @click=\"\">{{\r\n               $t('msg.excel.show')\r\n             }}</el-button>\r\n+            <!-- 角色 -->\r\n             <el-button type=\"info\" size=\"small\">{{\r\n               $t('msg.excel.showRole')\r\n             }}</el-button>\r\n             <!-- 删除 -->\r\n"
                },
                {
                    "date": 1698482363768,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -56,9 +56,9 @@\n           width=\"260\"\r\n         >\r\n           <template #default=\"{ row }\">\r\n             <!-- 查看 -->\r\n-            <el-button type=\"primary\" size=\"small\" @click=\"\">{{\r\n+            <el-button type=\"primary\" size=\"small\" @click=\"onShowClick(row._id)\">{{\r\n               $t('msg.excel.show')\r\n             }}</el-button>\r\n             <!-- 角色 -->\r\n             <el-button type=\"info\" size=\"small\">{{\r\n"
                },
                {
                    "date": 1698482410456,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -141,8 +141,12 @@\n const onImportExcelClick = () => {\r\n   router.push('/user/import')\r\n }\r\n \r\n+const onShowClick = (id) => {\r\n+  router.push(`/`)\r\n+}\r\n+\r\n const i18n = useI18n()\r\n /**\r\n  * 删除按钮点击事件\r\n  */\r\n"
                },
                {
                    "date": 1698482462979,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -56,11 +56,14 @@\n           width=\"260\"\r\n         >\r\n           <template #default=\"{ row }\">\r\n             <!-- 查看 -->\r\n-            <el-button type=\"primary\" size=\"small\" @click=\"onShowClick(row._id)\">{{\r\n-              $t('msg.excel.show')\r\n-            }}</el-button>\r\n+            <el-button\r\n+              type=\"primary\"\r\n+              size=\"small\"\r\n+              @click=\"onShowClick(row._id)\"\r\n+              >{{ $t('msg.excel.show') }}</el-button\r\n+            >\r\n             <!-- 角色 -->\r\n             <el-button type=\"info\" size=\"small\">{{\r\n               $t('msg.excel.showRole')\r\n             }}</el-button>\r\n@@ -139,9 +142,9 @@\n   router.push('/user/import')\r\n }\r\n \r\n const onShowClick = (id) => {\r\n-  router.push(`/`)\r\n+  router.push(`/user/info/${id}`)\r\n }\r\n \r\n const i18n = useI18n()\r\n /**\r\n"
                },
                {
                    "date": 1698650371771,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -150,9 +150,9 @@\n /**\r\n  * 删除按钮点击事件\r\n  */\r\n const onRemoveClick = (row) => {\r\n-  console.log(row)\r\n+  // console.log(row)\r\n   ElMessageBox.confirm(\r\n     i18n.t('msg.excel.dialogTitle1') +\r\n       row.username +\r\n       i18n.t('msg.excel.dialogTitle2'),\r\n"
                },
                {
                    "date": 1698655568708,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -95,8 +95,9 @@\n import { onActivated, ref } from 'vue'\r\n import { useI18n } from 'vue-i18n'\r\n import { useRouter } from 'vue-router'\r\n import ExportToExcel from './components/ExportToExcel.vue'\r\n+import RolesDialog from './components/RolesDialog.vue'\r\n \r\n // 数据相关\r\n const tableData = ref([])\r\n const total = ref(0)\r\n"
                },
                {
                    "date": 1698655609757,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -83,8 +83,9 @@\n         @size-change=\"handleSizeChange\"\r\n         @current-change=\"handleCurrentChange\"\r\n       ></el-pagination>\r\n       <ExportToExcel v-model=\"exportToExcelVisible\" />\r\n+      <RolesDialog v-model=\"\"/>\r\n     </el-card>\r\n   </div>\r\n </template>\r\n \r\n"
                },
                {
                    "date": 1698655638327,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -83,9 +83,9 @@\n         @size-change=\"handleSizeChange\"\r\n         @current-change=\"handleCurrentChange\"\r\n       ></el-pagination>\r\n       <ExportToExcel v-model=\"exportToExcelVisible\" />\r\n-      <RolesDialog v-model=\"\" />\r\n+      <RolesDialog v-model=\"roleDialogVisible\" />\r\n     </el-card>\r\n   </div>\r\n </template>\r\n \r\n"
                },
                {
                    "date": 1698655752266,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -176,12 +176,18 @@\n }\r\n \r\n // 控制dialog弹出层是否展示\r\n const exportToExcelVisible = ref(false)\r\n+const roleDialogVisible = ref(false)\r\n // 点击导出excel按钮\r\n const onExportToExcelClick = () => {\r\n   exportToExcelVisible.value = true\r\n }\r\n+\r\n+// 查看角色点击事件\r\n+const onShowRoleClick = () => {\r\n+  roleDialogVisible.value = true\r\n+}\r\n </script>\r\n \r\n <style lang=\"scss\" scoped>\r\n .user-manage-container {\r\n"
                }
            ],
            "date": 1697021464745,
            "name": "Commit-0",
            "content": "<template>\r\n  <div class=\"user-manage-container\">\r\n    <el-card class=\"header\"></el-card>\r\n    <el-card></el-card>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport {} from 'vue'\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n"
        }
    ]
}